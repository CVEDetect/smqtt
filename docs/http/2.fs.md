---
sort: 2 
---

# http内置接口


- ##推送消息接口

> 系统内置了io.github.quickmsg.core.http.PublishActor接口，用于推送mqtt消息。使用方式如下：

- 请求url /smqtt/publish
- 请求方式 POST
- Body

|  参数   | 说明  | 必传  |
|  ----  | ----  |----  |
| topic  | topiuc |是 |
| qos  | 服务等级 |是 |
| retain  | 保留消息 |是 |
| message  | 消息 |是 |


```
curl -H "Content-Type: application/json" -X POST -d '{"topic": "test/teus", "qos":2, "retain":true, "message":"我来测试保留消息3" }' "http://localhost:1999/smqtt/publish"
```


- ##获取当前连接

> 系统内置了io.github.quickmsg.core.http.ConnectionActor，用于获取当前连接。使用方式如下：

- 请求url /smqtt/connection
- 请求方式 POST
- Body

|  参数   | 说明  | 必传  |
|  ----  | ----  |----  |
| connection  | 连接 |是 |
| status  | 状态 |是 |
| activeTime  | 激活时间 |是 |
| authTime  | 认证时间 |是 |
| sessionPersistent  | session开启 |是 |
| will  | 遗嘱消息 |是 |
| keepalive  | 心跳时间 |是 |
| topics  | 订阅topic |是 |


```
curl -H "Content-Type: application/json" -X POST "http://localhost:1999/smqtt/connection"
```



- ##获取当前集群信息

> 系统内置了io.github.quickmsg.core.http.actors.ClusterActor，用于获取当前连接。使用方式如下：

- 请求url /smqtt/cluster
- 请求方式 POST
- Body

|  参数   | 说明  | 必传  |
|  ----  | ----  |----  |
| alias  | node名称 |是 |
| host  | 主机ip |是 |
| port  | 端口 |是 |
| namespace  | 命名空间 |是 |




```
curl -H "Content-Type: application/json" -X POST "http://localhost:1999/smqtt/cluster"
```